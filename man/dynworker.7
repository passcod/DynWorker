.TH DynWorker 7 "5 Nov 2011"

.SH NAME

DynWorker - Web threading made easy


.SH DESCRIPTION

A tiny library to ease web threading. Now you can have you logic anywhere you want it,
not necessarily inside the worker script. You can inject functions into the worker, run
code inside there, and there's a few methods to handle passing messages painlessly.

.PP
If you use Ender (http://ender.no.de) - you should - DynWorker is available on the
.B $.worker
namespace. Otherwise, it is the
.B DynWorker
global.

Note: when using Ender, you still need to include the dynworker.js in the page with
a script tag, prior to including the Ender script.


.SH SYNOPSIS

If the library is in the current dir and is named
.I dynworker.js
, this works:

.B var worker = new DynWorker();

.PP
Otherwise you need to specify a filename, but it needs to be on the same domain.

.B var worker = new DynWorker("/js/lib/dynworker.min.js");

.PP
You can also modify the default path once and for all:

.B DynWorker.path("path/to/dynworker.js");
.sp 0.5
.B var worker = new DynWorker();

.PP
The function is namespaced under
.I DynWorker.ns
inside the worker.

.B worker.inject("funcName", function(arg1, arg2) {
.sp 0.5
.B " "
.B " "
.B var result = "Do something awesome here";
.sp 0.5
.B " "
.B " "
.B DynWorker.ns.funcName('foo', 'bar');
// Recursion
.sp 0.5
.B " "
.B " "
.B return result;
.sp 0.5
.B });

.PP
The callback gets back the raw event

.B worker.receive(function(e) {
.sp 0.5
.B " "
.B " "
.B e.data;
// Display and strike awe
.sp 0.5
.B });

.PP
The
.I worker.run()
function wraps the function call in a
.I DynWorker.send()
so the return value of the function is sent up.

.B worker.run("funcName", arg1, arg2);

.PP
Hence, these two are equivalent:

.B worker.run("funcName");
.sp 0.5
.B worker.eval("DynWorker.send(DynWorker.ns['funcName']());");


.SH FILES

.I ender/
.RS
Used by Ender
.RE

.I dynworker.coffee
.RS
The source of the script
.RE

.I dynworker.js
.RS
The coffee-compiled script. It should be available at
.sp 0.5
.I ./dynworker.js
or wherever you specify it to be using the
.sp 0.5
.I DynWorker.path()
function.
.RE

.SH SEE ALSO

The
.I README.markdown
file, also available online at
.I https://github.com/passcod/DynWorker
is probably more up-to-date than this manual page.

.SH BUGS

Use the GitHub issue tracker at
.sp 0.5
.I https://github.com/passcod/DynWorker/issues
.sp 0.5
or send mail to
.B me@passcod.net
with a clear subject line.


.SH AUTHORS

DynWorker was written by FÃ©lix Saparelli. Contributors are listed in the
.I AUTHORS
file.

.PP
DynWorker is under the MIT License, the full text of which can be found at
.I http://mit.passcod.net
