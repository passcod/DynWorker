(function(){var b,g=Array.prototype.slice;self.onmessage=function(a){switch(a.data.DynWorkerAction){case "eval":return eval(a.data.code)}};b=function(a){var e,c,f;if(a==null)a=b.libpath;f=new Worker(a);e=function(a){return f.postMessage(a)};c=function(a){return e({DynWorkerAction:"eval",code:a})};return{receive:function(a){return f.onmessage=a},send:e,eval:c,inject:function(a,b){var d;d=b.toString();/^function \(/.test(d)||d.replace(/^function [^\(]+\(/,"function (");return c("DynWorker.ns['"+a+"']="+
d+";")},run:function(){var a,b;b=arguments[0];a=2<=arguments.length?g.call(arguments,1):[];return c("DynWorker.send(DynWorker.ns['"+b+"'].apply(null, "+JSON.stringify(a)+"));")}}};b.ns={};b.libpath="dynworker.js";b.path=function(a){if(a)return b.libpath=a};b.send=function(a){return self.postMessage(a)};typeof window==="undefined"?self.DynWorker=b:window.DynWorker=b}).call(this);
